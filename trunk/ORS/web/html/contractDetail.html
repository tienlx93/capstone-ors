<link rel="stylesheet" type="text/css" href="../css/contract.css"/>

<div class="container" ng-show="RightCus">
    <h2>Chi tiết hợp đồng</h2>
    <br>

    <div class="form-group">
        <div class="left-img">
            <table style="width: 90%" border="1">
                <tbody>
                <tr>
                    <td colspan="2"><h4>Bên cho thuê văn phòng (Bên A):</h4><br></td>
                </tr>
                <tr>
                    <td class="textright">Ông (Bà):</td>
                    <td><span class="spanleft">{{data.ownerName}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Điện thoại:</td>
                    <td><span class="spanleft">{{data.ownerPhone}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Địa chỉ:</td>
                    <td><span class="spanleft">{{data.ownerAddress}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Là chủ của văn phòng:</td>
                    <td><span class="spanleft">{{data.officeName}}</span></td>
                </tr>
                </tbody>
            </table>
            <br>
            <h4>File hợp đồng</h4>
            <br>
            <img src="/img/office.jpg">
        </div>
        <div class="right-info">
            <table style="width: 100%">
                <tbody>
                <tr>
                    <td colspan="2"><h4>Bên thuê văn phòng (Bên B):</h4><br></td>
                </tr>

                <tr>
                    <td class="textright">Ông (Bà):</td>
                    <td><span class="spanleft">{{profile.fullName}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Địa chỉ:</td>
                    <td><span class="spanleft">{{profile.address}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Số điện thoại:</td>
                    <td><span class="spanleft">{{profile.phone}}</span></td>
                </tr>

                <tr>
                    <td colspan="2"><br><h4>Thông tin thuê:</h4><br></td>
                </tr>

                <tr>
                    <td class="textright">Tên văn phòng:</td>
                    <td><span class="spanleft">{{data.officeName}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Loại văn phòng:</td>
                    <td><span class="spanleft">{{data.category}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Địa chỉ văn phòng:</td>
                    <td><span class="spanleft">{{data.address}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Diện tích thuê:</td>
                    <td><span class="spanleft">{{data.area}} m<sup>2</sup></span></td>
                </tr>
                <tr>
                    <td class="textright">Giá thuê:</td>
                    <td><span class="spanleft">{{data.price | currency:"vnd":0}} trên m<sup>2</sup>/tháng</span></td>
                </tr>
                <tr>
                    <td class="textright">Ngày bắt đầu hợp đồng:</td>
                    <td><span class="spanleft">{{data.startDay | date:'dd-MM-yyyy'}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Ngày kết thúc hợp đồng:</td>
                    <td><span class="spanleft">{{data.endDay | date:'dd-MM-yyyy'}}</span></td>
                </tr>

                <tr>
                    <td colspan="2"><br><h4>Thông tin thanh toán:</h4><br></td>
                </tr>
                <tr>
                    <td class="textright">Số tiền đặt cọc:</td>
                    <td><span class="spanleft">{{data.deposit | currency:"vnd":0}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Kỳ hạn thanh toán:</td>
                    <td><span class="spanleft">{{data.paymentTerm}}</span></td>
                </tr>
                <tr>
                    <td class="textright">Số tiền thanh toán mỗi kỳ:</td>
                    <td><span class="spanleft">{{data.price * data.area * Term | currency:"vnd":0}} </span></td>
                </tr>
                </tbody>
            </table>
            <br>
            <table>
                <tbody>
                <tr>
                    <td style="padding-right: 10px;"><h4>Tình trạng hợp đồng:</h4></td>
                    <td ng-if="data.status == 3" class="contract-status color9-bg"> Đang yêu cầu hủy hợp đồng trước
                        hạn
                    </td>
                    <td ng-if="data.status == 2" class="contract-status color7-bg"> Đang yêu cầu gia hạn hợp đồng</td>
                    <td ng-if="data.status == 1" class="contract-status color12-bg"> Khả dụng</td>
                </tr>
                </tbody>
            </table>
            <br>
            <h4>Phụ lục hợp đồng:</h4><br>
            <!--<span ng-show="Rentaled" style="width: 50%">{{display}}</span>-->
            <div ng-show="!Rentaled">
                <b>Danh sách những vật dụng đang thuê:</b>
                <br>
                <table class="table">
                    <thead>
                    <tr>
                        <th>Tên thiết bị</th>
                        <th>Mô tả</th>
                        <th>Giá thuê</th>
                        <th>Số lượng (cái)</th>
                        <th>Thành tiền</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr ng-repeat="item in rentalList">
                        <td>{{item.name}}</td>
                        <td>{{item.description}}</td>
                        <td>{{item.unitPrice | currency:"vnd":0}}</td>
                        <td>{{item.quantity}}</td>
                        <td>{{item.price | currency:"vnd":0}}</td>
                    </tr>
                    <tr>
                        <td colspan="4" class="sum"><b>Tổng cộng</b></td>
                        <td>{{total | currency:"vnd":0}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <br>
            <a ng-if="data.status == 1 || data.status == 2" href="#/rental/{{data.contractId}}" class="btn btn-green">
                Yêu cầu thuê thiết bị</a>
            <a ng-if="data.status == 1 || data.status == 2" href="#/requestRepair/{{data.contractId}}"
               class="btn btn-green">
                Yêu cầu sửa chữa</a>
            <span ng-if="data.status == 1">
            <a ng-click="contractReturn()" class="btn btn-color9">Hủy hợp đồng trước hạn</a>
            <a ng-click="contractExtend()" class="btn btn-color7">Gia hạn hợp đồng</a>
            </span>

        </div>
    </div>

    <!--<div class="form-group">
        <label>Tên văn phòng</label>
        {{data.officeName}}
        <a ng-if="data.status == 1 || data.status == 2" href="#/requestRepair/{{data.contractId}}" class="btn btn-green" style="padding: 3px 10px;">
            Yêu cầu sửa chữa</a>
    </div>
    <div class="form-group">
        <label>Ngày bắt đầu</label>
        {{data.startDay | toLocaleDate}}
    </div>
    <div class="form-group">
        <label>Ngày hết hạn</label>
        {{data.endDay | toLocaleDate}}
        <span ng-if="data.status == 1">
            <a ng-click="contractReturn()" class="btn btn-color9" style="padding: 3px 10px;">Hủy hợp đồng trước hạn</a>
            <a ng-click="contractExtend()" class="btn btn-color7" style="padding: 3px 10px;">Gia hạn hợp đồng</a>
        </span>
        <span ng-if="data.status == 3" class="contract-status color9-bg">Đang yêu cầu hủy hợp đồng trước hạn</span>
        <span ng-if="data.status == 2" class="contract-status color7-bg">Đang yêu cầu gia hạn hợp đồng</span>
    </div>
    <div class="form-group">
        <label>Điều khoản giá</label>
        {{data.price}} VND / tháng, trả trong {{data.paymentTerm}}
    </div>
    <br>

    <div ng-show="!Rentaled">
        <h4>Danh sách thuê thiết bị hiện tại</h4>
        <br>
        <table class="table">
            <thead>
            <tr>
                <th>Tên thiết bị</th>
                <th>Mô tả</th>
                <th>Giá thuê (VNĐ)</th>
                <th>Số lượng (cái)</th>
                <th>Thành tiền (VNĐ)</th>
            </tr>
            </thead>
            <tbody>

            <tr ng-repeat="item in rentalList">
                <td>{{item.name}}</td>
                <td>{{item.description}}</td>
                <td>{{item.unitPrice}}</td>
                <td>{{item.quantity}}</td>
                <td>{{item.price}}</td>
            </tr>
            <tr>
                <td colspan="4" class="sum"><b>Tổng cộng (VNĐ)</b></td>
                <td>{{total}}</td>
            </tr>

            </tbody>
        </table>
    </div>
    <div class="button-post">
        <a ng-if="data.status == 1 || data.status == 2" href="#/rental/{{data.contractId}}" class="btn btn-green">Yêu cầu thuê thiết bị</a> <br>
    </div>
</div>-->
</div>
<div class="container" ng-show="WrongCus">
    <h2>Bạn không sở hữu hợp đồng này!</h2>
    <br>
    <br>

    <div class="button-post">
        <a href="#/home" class="btn btn-green">Quay về trang chủ</a> <br>
    </div>
</div>
<div class="container" ng-show="Expire">
    <h2 class="error">{{error}}</h2>
    <br>
    <br>

    <div class="button-post">
        <a href="#/home" class="btn btn-green">Quay về trang chủ</a> <br>
    </div>
</div>
<div class="container" ng-show="!isLogin">
    <h2>Vui lòng đăng nhập để xem thông tin</h2>
    <br>
    <br>

    <div class="button-post">
        <a href="#/home" class="btn btn-green">Quay về trang chủ</a> <br>
    </div>
</div>